---
title: Common Data Models & FHIR

area:
  name: Overview
topic:
  name: FHIR for Research
  
bibliography: bibliography.bib
  
roles:
  - Investigator
  - Research Leaders
  - Informaticist
  - Software Engineer
  - Clinician Scientist/Trainee
  
learning_objectives:
  - question: Why are Common Data Models necessary in healthcare?
    answer: Observational data in healthcare settings comes from many disparate sources and requires harmonization into a standard structure.
  - question: How do Common Data Models help researchers?
    answer: Faciliting research is one of the major function of Common Data Models in healthcare, since they provide researchers an organized and standardized environment to pull data.
  - question: How does FHIR help researchers work with Common Data Models?
    answer: The Common Data Models Harmonization (CDMH) FHIR Implementation Guide maps observational data between common CDMs, allowing researchers to harmonize data from multiple health systems that might use different CDMs.
---

A Common Data Model (CDM) is a set of standardized data schemas that allow data to be organized and shared across different applications.<!-- no - not shared. allows queries to be used consistently acorss orgs --LDC -->[@pcornet] In healthcare, a CDM provides a standard structure for health applications to organize the data they have received from different sources.

::: {.callout-note collapse="true"}

## Shared Health Data Network (SHDN) and Distributed Health Data Network (DHDN)

Shared Health Data Network (SHDN)

:   Network of organizations that establish a common CDM. An SHDN can make data available to researchers in three major ways: [@cdm_timeline_paper]

    -   **Pooled SHDN** - Data is centralized into a single location where researchers can access it in a client/server relationship.

    -   **Federated SHDN** - Data is stored at individual source organizations but a centralized clearinghouse exists for remote querying of collective data batches.

    -   **Hybrid SHDN** - Functionally the same as Federated SHDNs from the researcher's perspective, but some data batches are pooled from multiple organizations while others are single-organization only.

Distributed Health Data Network (DHDN)

:   Type of SDHN where data is available to remote users via a query interface as opposed to onsite only like the examples above. [@dhdn]
<!-- this appears to be very closely copied from https://doi.org/10.5334/egems.279. Add a reference and possibly block quotations. --LDC -->
:::

## The importance of CDMs in research

### The problem

Observational data in healthcare is complex and comes from many data sources. There are three major reasons for collecting observational data: [@book_of_ohdsi]

| Reason to collect observational healthcare data | Common data source      |
|-------------------------------------------------|-------------------------|
| Facilitate research                             | Survey or registry data |
| Support conduct of healthcare                   | EHR data                |
| Manage healthcare payments                      | Claims                  |

Researchers often pull data from each of the source types listed above. They also require large amounts of patient data to draw statistically significant conclusions. If each data source has a different structure, a simple query can grow into a data pipeline problem.
<!-- COMMENT:
removing
"In addition, data use agreements and complex access control for individual data sources create additional roadblocks."
because this module is about CDMs so didn't seem relevant.

AMMENDED!!!

This is *very* relevant with this context:

"A common data standard can alleviate this need by omitting the extraction step and allowing a standardized analytic to be executed on the data in itâ€™s native environment - the analytic comes to the data instead of the data to the analytic."
https://ohdsi.github.io/TheBookOfOhdsi/CommonDataModel.html

This needs to be included.

-- LDC -->

### How CDMs help

CDMs allows researchers to query data batches with methods that can be "systematically applied to produce meaningfully comparable and reproducible results." [@book_of_ohdsi] A CDM can be thought of as the "middleman" that organizes disparate data sources within a healthcare organization in a structured way so that researchers can focus on analytics instead of complex data ingestion. Researchers no longer need to worry about individual data source connection, formatting, or protection issues.

<!-- QUESTION

The CDM is internal to the health system, yes?
So is it really the "middleman"?

Wouldn't it be something like:
- health app ingests data and converts it to the CDM
- health app stores the data as the CDM
- researcher wants to query the data. Gets permission to do so.
- researcher is able to use the *same* query for this health system as with others because the health system uses the CDM

If so, then I wouldn't call it the "middleman".

Please confirm my understanding!

--LDC
-->

## Commons CDMs

Common CDMs the reseachers in the US use include:

-   [Sentinel](https://www.sentinelinitiative.org/)

-   [PCORnet (Patient-Centered Outcomes Researcher Network)](https://pcornet.org/)

-   [i2b2 (Informatics for Integrating Biology & the Bedside)](https://www.i2b2.org/about/index.html)

-   [OMOP (Observational Medical Outcomes Partnership)](https://www.ohdsi.org/data-standardization/)

### Sentinel

Launched by the FDA in 2007, Sentinel monitors whether FDA-regulated medical products cause unexpected adverse reactions. 

Although FDA-regulated products undergo clinical testing before approval, the testing may miss adverse reactions. This is because the test population rarely matches the population that actually uses the product. To detect and assess adverse events after approval, the FDA created Sentinel.

Sentinel follows a DHDN model:
Partner organizations implement the Sentinel CDM internally. If an adverse reaction is suspected, researchers send a query to a secure portal, which distributes the query to the partner organizations. The partner organizations process the query internally, and send back the results.
[@cdm_timeline_paper]

<!-- I used this paper to write ^. https://www.healthaffairs.org/do/10.1377/hpb20150604.936915/. Needs a reference. --LDC -->

For more information, visit [Sentinel's CDM webpage](https://www.sentinelinitiative.org/methods-data-tools/sentinel-common-data-model).


<!-- FIX: I removed the list above. instead, include this visual: https://www.sentinelinitiative.org/sites/default/files/SCDM_Table_v8.1.0_with%20SVT%20%281%29%20%281%29.png --LDC -->

### PCORnet

The Patient-Centered Outcomes Research Institute (PCORI) developed PCORnet to make clinical research more streamlined, representative, and efficient.

PCORnet follows a DHDN model: Researchers submit a research question to the PCORnet "front door." PCORnet leadership reviews the question and transforms it into a computable query. PCORnet then distributes the query to its partners. Because each partner uses the PCORnet CDM, they can process the query without making changes and respond with the result.

<!-- great image: https://pcornet.org/wp-content/uploads/2021/11/Process.png -->

PCORnet data is largely drawn from EHRs, as well as some patient-reported and payor data. The PCORnet includes data from 66 million patients that researchers can use for observational studies.

Below is a visual of its CDM schema. For more information, review the [PCORnet CDM specification](https://pcornet.org/wp-content/uploads/2022/01/PCORnet-Common-Data-Model-v60-2020_10_221.pdf).

![](images/image-1116756803.png)

### i2b2

Developed in 2004 by Partners HealthCare and Harvard Medical School, i2b2 is an open-source research data application framework that "provides clinical and translational investigators with the tools necessary to integrate medical record and clinical research in the genomics age." [@i2b2_wiki_intro] This CDM's main purpose is to help translate genomic findings and hypotheses for researchers.

i2b2's CDM is different from the other listed in that it does not have a separate database table for each data type. Its CDM is based on a "star schema" where all patient observations are stored in a single "fact" table that provides different codes for separate ontologies. There are three major upsides to this design choice: [@i2b2_wiki_intro]

-   Institutions can use their own local codes without the need to map to other data sets

-   Institutions can easily add new data types

-   Queries, analyses, and tools developed using i2b2 are future-proof since this CDM can remain stable over time

The visual below gives an example of this. [@i2b2_wiki_star_schema] The `observation_fact` table holds all observations that act as keys to connect to other tables that can be added by institutions with their own required data types.

![](images/image-1891753576.png)

For more information, please visit the [i2b2 CDM documentation](https://community.i2b2.org/wiki/display/BUN/i2b2+Common+Data+Model+Documentation).

<!-- gibberish. i need to review again. --LDC -->

### OMOP

Similar to Sentinel, OMOP was originally created in 2007 by the FDA and other partners to study the effects of medical products.[@cdm_timeline_paper] It is now managed by the OHDSI (Observational Health Data Science and Informatics).

[OMOP is an](https://www.ohdsi.org/data-standardization/):

> open community data standard, designed to standardize the structure and content of observational data and to enable efficient analyses that can produce reliable evidence.

Below is a visual representation of the OMOP CDM: [@book_of_ohdsi]

![](images/image-1041728868.png)

<!-- question to answer: how do queries get distributed and processed by partner orgs? Looks like some info here: https://ohdsi.github.io/CommonDataModel/faq.html#Network_Research_Studies Is OMOP an SHDN because there's no distribution hub? --LDC -->

OMOP uses [OHDSI standardized vocabularies](https://github.com/OHDSI/Vocabulary-v5.0/wiki). The OHDSI standardized vocabularies establish a single **standard concept** for each clinical entity. When data is converted into OMOP, the source concept is mapped to the corresponding standard concept. This allows researchers to interpret and use clinical entities from different organizations.[@ohdsi_vocab]

## CDMs and FHIR

A problem arises when a researcher may want to aggregate data from multiple SHDNs that each use a different CDM. This is an issue well suited for FHIR to address, as its flexibility allows for such mappings to be developed. The [Common Data Models Harmonization FHIR Implementation Guide](http://hl7.org/fhir/us/cdmh/2019May/) has created mappings between each of the four CDMs discussed in the previous section.

Its infrastructure is "sustainable, flexible, and modifiable based on the research questions." [@onc_cdm_harmonization] It allows researchers to have even larger sample sizes as well as additional demographics, such as elderly, children, and non-U.S. population.

Below is an abstract model of the data flow from multiple SHDNs to an aggregated form ready for a researcher to query. [@cdmh_overview]

![](images/image-843796542.png)
