---
title: "Module: Key FHIR Resources"
author: "Shaumik Ashraf"
format: html
editor: visual
toc: true
---


::: {.callout-tip}
## Key points

 - Patient, Observation, and Bundle are some of the primary resources in FHIR
 - FHIR defines resources with great granularity and flexibility
 - FHIR encapsulates metadata as resources for autoconfiguration and dynamic programming
:::

## 1. Overview of core elements

Recall that FHIR itself stands for _Fast Healthcare Interoperability **Resources**_. The FHIR Core v4.3.0 (also known as Revision 4B, or R4B) defines
140 resources[^1] that are the building blocks for healthcare interoperability. The [HL7 FHIR Website](https://hl7.org/fhir) gives
a well structured summary of the FHIR Core:

[^1]: <https://hl7.org/fhir/R4B/resourcelist.html>

![Classification levels for FHIR Core](images/fhir-index-delinked.png)

As shown above the FHIR Core is tiered into 5 levels. The lower levels define data types, encodings, and other
infrastructure required to implement FHIR. Progressively higher levels begin to encapsulate clinical information, with level 3 defining intuitive
resources such as `Patient` and level 5 representing clinical workflows or medical knowledge with the intended use of Clinical Decision Support.

A resource may be encoded in JSON, XML, or Turtle[^2] with processing done by any programming language or software tool. The FHIR standard
and resource specifications are for defining the semantics necessary to transfer clinical information. FHIR is granular enough to capture the
miniscule pieces of information, but also flexible enough to work with a variety of medical use cases and data collection pipelines already in place.
A resource can also extend itself to encompase new discoveries, profile itself for more specific use cases, define metadata for powerful autoconfiguration,
and carry human-readible data for manual stewardship. These resources fully follow Object Oriented principles.[^3]

[^2]: <https://hl7.org/fhir/formats.html#wire>
[^3]: <https://en.wikipedia.org/wiki/Object-oriented_programming>

To understand how FHIR accomplishes this, let us examine the Patient resource.

## 2. Patient resource

Here is a [summary table for Patient resource](https://hl7.org/fhir/patient):

![FHIR Patient Resource](images/fhir-r4b-patient-structure.png)

The table can be interpreted as follows:

 - **Name**: The attribute name.
 - **Flags**: Special markers that carry information required for implementers. For example, **`N`** means the resource is normative, which is the
highest degree of officiality in the FHIR standard. [See all flags here](https://hl7.org/fhir/formats.html#table).
 - **Card.**: The cardinality of the attribute in format `{minimum}..{maximum}`. For example, `0..*` implies zero to any possible number of values and `1..1`
implies exactly 1 required element.
 - **Type**: The primitive or complex data type, where a complex data type is another resource. Note in the first row that `Patient` itself also has a type,
which gives inheritence of additional attributes we'll discuss [below](#inherited-attributes). [See all FHIR types here](https://hl7.org/fhir/datatypes.html).
 - **Description & Constraints**: A human-targeted explanation of the attribute, but may also contain key constraints that must be enforced by
implementors.

Once you gain familiarity with FHIR, reading the corresponding table will give all the information you need to utilize a resource. FHIR is also designed so that
drafting a standard automatically generates the table and additional documentation[^4]. If you can thoroughly understand the Patient resource, then
you can understand the majority of resources out there.

[^4]: <https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-Summary>

### The first complex type - HumanName

Since complex types are just resources and FHIR automatically documents resources by defining them, `HumanName` also has it's own [structure table](https://hl7.org/fhir/datatypes.html#HumanName):

![HumanName Resource](images/fhir-r4b-human_name-structure-delinked.png)

Here you can see the granularity of FHIR. `HumanName` is designed to capture any and all possible circumstances, from temporary pseudonyms to
case studies on Pieter van de Heuvel[^5]. At the same time it is also very flexible

[^5]: <https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-Summary>

### A choice type attribute - deceased[x]

Choice types are the FHIR specification for polymorphic attributes or union fields. For example `Patient` is defined such that
either `Patient.deceasedBoolean` or `Patient.deceasedDateTime` are provided but not both, and the former must have a boolean value
while the latter must have a datetime value. (Note: that `deceased[x]` is **only** used in documentation, and never in actual data).
In this way FHIR can capture the semantics that "a patient passed away" and provide interoperability between healthcare systems that
record the event as a boolean flag or a timestamp. 

In general choice type attributes are always the attribute name concatenated with its value type in [Camel Case](https://en.wikipedia.org/wiki/Camel_case).
It is possible for a single database to have records that switch between the selected type, and an application that can successfully fetch
a resource with choice types must be able to support all possible values. A choice type attribute can be implemented in any way and FHIR libraries
exist to take care of it, but a processing script or data pipeline should also account for any and all possible values.

[See more information on choice types here](https://hl7.org/fhir/formats.html#choice).

### A codeable concept - maritalStatus

`Patient.maritalStatus` is a [CodeableConcept](http://hl7.org/fhir/datatypes.html#CodeableConcept) which is very commonly used in FHIR. Codeable Concepts
are a complex type that can flexibly bind an attribute to a specific terminology, value set, or health informatics standard such as ICD codes. In this case the
attribute is bound to the [Marital Status Codes Value Set](http://hl7.org/fhir/valueset-marital-status.html). See our [Terminology module](/modules/10-intro--terminology-introduction/)
for how these work.

### Inherited attributes

Recall in the first row of the Patient structure table, `Patient` itself was assigned to the type `DomainResource`. This means that `DomainResource`
is the parent of `Patient` and all its attributes (and constraints) are inherited. `DomainResource` is also the child of `Resource`, which is the base
of almost all Interoperability Resources. Below are the structure tables for [Resource](http://hl7.org/fhir/resource.html) and
[DomainResource](http://hl7.org/fhir/domainresource.html) respectively.

![Resource](images/fhir-resource-structure-delinked.png)

![DomainResource](images/fhir-domain_resource-structure-delinked.png)

In essence, all domain resources such as Patient or Condition will have an `id` attribute (a string, usually a [uuid](https://en.wikipedia.org/wiki/Universally_unique_identifier)
to uniquely refer to it, a `meta` attribute
to store metadata such as implementation guide conformance, `text` to store a human-targeted narrative, and `extension` to store additional data if needed.

### A patient example

To summarize everything about the Patient resource into practice, here is an anonymized example[^6] from the real world:

```json
{
  "resourceType": "Patient",
  "id": "f001",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Pieter van de Heuvel </b> male, DoB: 1944-11-17 ( id: 738472983 (USUAL))</p></div>"
  },
  "identifier": [
    {
      "use": "usual",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "738472983"
    },
    {
      "use": "usual",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3"
    }
  ],
  "active": true,
  "name": [
    {
      "use": "usual",
      "family": "van de Heuvel",
      "given": [
        "Pieter"
      ],
      "suffix": [
        "MSc"
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "0648352638",
      "use": "mobile"
    },
    {
      "system": "email",
      "value": "p.heuvel@gmail.com",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1944-11-17",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Van Egmondkade 23"
      ],
      "city": "Amsterdam",
      "postalCode": "1024 RJ",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",
        "code": "M",
        "display": "Married"
      }
    ],
    "text": "Getrouwd"
  },
  "multipleBirthBoolean": true,
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/v2-0131",
              "code": "C"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "family": "Abels",
        "given": [
          "Sarah"
        ]
      },
      "telecom": [
        {
          "system": "phone",
          "value": "0690383372",
          "use": "mobile"
        }
      ]
    }
  ],
  "communication": [
    {
      "language": {
        "coding": [
          {
            "system": "urn:ietf:bcp:47",
            "code": "nl",
            "display": "Dutch"
          }
        ],
        "text": "Nederlands"
      },
      "preferred": true
    }
  ],
  "managingOrganization": {
    "reference": "Organization/f001",
    "display": "Burgers University Medical Centre"
  }
}
```

[^6]: <https://hl7.org/fhir/patient-example-f001-pieter.json.html>

Processing a FHIR Patient resource means processing the above JSON. JSON representation of a FHIR resource is by far the most common, but XML conversion is
readily available[^7]. Turtle (also known as RDF) is rarely used, and sometimes found in an academic setting.

[^7]: <https://fhir-formats.github.io/>

This example should give you a full idea of what a FHIR Patient resource is and how it contains healthcare data. If you need more examples visit the
[FHIR Core Patient examples](https://hl7.org/fhir/patient-examples.html).

## 3. Observation resource

Another prominent resource is Observation, which can capture vital signs, laboratory data, imaging results, clinical findings, device measurements, and
much more[^8]. Just like the Patient resource, here is the [Observation Resource structure table](http://hl7.org/fhir/observation.html#resource):

[^8]: <http://hl7.org/fhir/observation.html>

![Observation Resource](images/fhir-observation-structure-delinked.png)

And an example Observation of high blood glucose levels:

```json
{
  "resourceType": "Observation",
  "id": "f001",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource &quot;f001&quot; </p></div><p><b>identifier</b>: id: 6323 (OFFICIAL)</p><p><b>status</b>: final</p><p><b>code</b>: Glucose [Moles/volume] in Blood <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"https://loinc.org/\">LOINC</a>#15074-8)</span></p><p><b>subject</b>: <a href=\"patient-f001.html\">Patient/f001: P. van de Heuvel</a> &quot;Pieter VAN DE HEUVEL&quot;</p><p><b>effective</b>: 2013-04-02T09:30:10+01:00 --&gt; (ongoing)</p><p><b>issued</b>: 04/04/2013 1:30:10 AM</p><p><b>performer</b>: <a href=\"practitioner-f005.html\">Practitioner/f005: A. Langeveld</a> &quot;Langeveld ANNE&quot;</p><p><b>value</b>: 6.3 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></p><p><b>interpretation</b>: High <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/3.1.0/CodeSystem-v3-ObservationInterpretation.html\">ObservationInterpretation</a>#H)</span></p><h3>ReferenceRanges</h3><table class=\"grid\"><tr><td>-</td><td><b>Low</b></td><td><b>High</b></td></tr><tr><td>*</td><td>3.1 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></td><td>6.2 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></td></tr></table></div>"
  },
  "identifier": [
    {
      "use": "official",
      "system": "http://www.bmc.nl/zorgportal/identifiers/observations",
      "value": "6323"
    }
  ],
  "status": "final",
  "code": {
    "coding": [
      {
        "system": "http://loinc.org",
        "code": "15074-8",
        "display": "Glucose [Moles/volume] in Blood"
      }
    ]
  },
  "subject": {
    "reference": "Patient/f001",
    "display": "P. van de Heuvel"
  },
  "effectivePeriod": {
    "start": "2013-04-02T09:30:10+01:00"
  },
  "issued": "2013-04-03T15:30:10+01:00",
  "performer": [
    {
      "reference": "Practitioner/f005",
      "display": "A. Langeveld"
    }
  ],
  "valueQuantity": {
    "value": 6.3,
    "unit": "mmol/l",
    "system": "http://unitsofmeasure.org",
    "code": "mmol/L"
  },
  "interpretation": [
    {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
          "code": "H",
          "display": "High"
        }
      ]
    }
  ],
  "referenceRange": [
    {
      "low": {
        "value": 3.1,
        "unit": "mmol/l",
        "system": "http://unitsofmeasure.org",
        "code": "mmol/L"
      },
      "high": {
        "value": 6.2,
        "unit": "mmol/l",
        "system": "http://unitsofmeasure.org",
        "code": "mmol/L"
      }
    }
  ]
}
```

From reading the above it is evident how the following information is semantically encoded:

 - **resourceType: Observation**: indicates that this is an Observation FHIR instance.
 - **id: f001**: the resource id is _f001_. An id only has to be unique per resourceType and FHIR server. See [accessing FHIR data](/modules/10-intro--accessing-fhir-data/) for how to use `id`.
 - **text: ... (omitted for brevity)**: human-targeted text for fallback if FHIR software fails. Although it is usually generated it should be treated as unstructured.
 - **status: final**: a _required_ attribute of `coding` type with a value set binding, which is effectively a string-based enumeration. This indicates the observation is finalized.
 - **code: ...**: a _required_ `CodeableConcept`, conforming to a [terminology binding](/modules/10-intro--terminology-introduction/) and providing a [LOINC code](http://hl7.org/fhir/valueset-observation-codes.html).
 - **subject: ...**: a [Reference](http://hl7.org/fhir/references.html#Reference) to another patient resource via `resourceType` and `id`. In this case it is the example Patient from earlier.
 - **valueQuantity: ...**: a supplied `value[x]` choice type with the actual result. In this case they use type [Quantity](http://hl7.org/fhir/datatypes.html#Quantity) to specify blood glucose concentration with units and a universal unit system.

## 4. Bundle resource

In practice you will seldom find the two example resources above individually. The high-blood glucose observation is useless without a patient it applies too, and there is no purpose for a patient in a healthcare workflow unless it has an observed medical problem. Thus you will usually find multiple FHIR instances together in one package - a `Bundle` resource. Here is the [structure for Bundle](https://hl7.org/fhir/bundle):

![Bundle Resource](images/fhir-bundle-structure-delinked.png)

And Bundle instance incorporating the above two examples:

```json
{
  "resourceType": "Bundle",
  "type": "collection",
  "entry": [
    {
      "resource": {
        "resourceType": "Patient",
        "id": "f001",
        "text": {
          "status": "generated",
          "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Pieter van de Heuvel </b> male, DoB: 1944-11-17 ( id: 738472983 (USUAL))</p></div>"
        },
        "identifier": [
          {
            "use": "usual",
            "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
            "value": "738472983"
          },
          {
            "use": "usual",
            "system": "urn:oid:2.16.840.1.113883.2.4.6.3"
          }
        ],
        "active": true,
        "name": [
          {
            "use": "usual",
            "family": "van de Heuvel",
            "given": [
              "Pieter"
            ],
            "suffix": [
              "MSc"
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "value": "0648352638",
            "use": "mobile"
          },
          {
            "system": "email",
            "value": "p.heuvel@gmail.com",
            "use": "home"
          }
        ],
        "gender": "male",
        "birthDate": "1944-11-17",
        "deceasedBoolean": false,
        "address": [
          {
            "use": "home",
            "line": [
              "Van Egmondkade 23"
            ],
            "city": "Amsterdam",
            "postalCode": "1024 RJ",
            "country": "NLD"
          }
        ],
        "maritalStatus": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",
              "code": "M",
              "display": "Married"
            }
          ],
          "text": "Getrouwd"
        },
        "multipleBirthBoolean": true,
        "contact": [
          {
            "relationship": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0131",
                    "code": "C"
                  }
                ]
              }
            ],
            "name": {
              "use": "usual",
              "family": "Abels",
              "given": [
                "Sarah"
              ]
            },
            "telecom": [
              {
                "system": "phone",
                "value": "0690383372",
                "use": "mobile"
              }
            ]
          }
        ],
        "communication": [
          {
            "language": {
              "coding": [
                {
                  "system": "urn:ietf:bcp:47",
                  "code": "nl",
                  "display": "Dutch"
                }
              ],
              "text": "Nederlands"
            },
            "preferred": true
          }
        ],
        "managingOrganization": {
          "reference": "Organization/f001",
          "display": "Burgers University Medical Centre"
        }
      }
    },
    {
      "resource": {
        "resourceType": "Observation",
        "id": "f001",
        "text": {
          "status": "generated",
          "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource &quot;f001&quot; </p></div><p><b>identifier</b>: id: 6323 (OFFICIAL)</p><p><b>status</b>: final</p><p><b>code</b>: Glucose [Moles/volume] in Blood <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"https://loinc.org/\">LOINC</a>#15074-8)</span></p><p><b>subject</b>: <a href=\"patient-f001.html\">Patient/f001: P. van de Heuvel</a> &quot;Pieter VAN DE HEUVEL&quot;</p><p><b>effective</b>: 2013-04-02T09:30:10+01:00 --&gt; (ongoing)</p><p><b>issued</b>: 04/04/2013 1:30:10 AM</p><p><b>performer</b>: <a href=\"practitioner-f005.html\">Practitioner/f005: A. Langeveld</a> &quot;Langeveld ANNE&quot;</p><p><b>value</b>: 6.3 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></p><p><b>interpretation</b>: High <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/3.1.0/CodeSystem-v3-ObservationInterpretation.html\">ObservationInterpretation</a>#H)</span></p><h3>ReferenceRanges</h3><table class=\"grid\"><tr><td>-</td><td><b>Low</b></td><td><b>High</b></td></tr><tr><td>*</td><td>3.1 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></td><td>6.2 mmol/l<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mmol/L = 'mmol/L')</span></td></tr></table></div>"
        },
        "identifier": [
          {
            "use": "official",
            "system": "http://www.bmc.nl/zorgportal/identifiers/observations",
            "value": "6323"
          }
        ],
        "status": "final",
        "code": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "15074-8",
              "display": "Glucose [Moles/volume] in Blood"
            }
          ]
        },
        "subject": {
          "reference": "Patient/f001",
          "display": "P. van de Heuvel"
        },
        "effectivePeriod": {
          "start": "2013-04-02T09:30:10+01:00"
        },
        "issued": "2013-04-03T15:30:10+01:00",
        "performer": [
          {
            "reference": "Practitioner/f005",
            "display": "A. Langeveld"
          }
        ],
        "valueQuantity": {
          "value": 6.3,
          "unit": "mmol/l",
          "system": "http://unitsofmeasure.org",
          "code": "mmol/L"
        },
        "interpretation": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                "code": "H",
                "display": "High"
              }
            ]
          }
        ],
        "referenceRange": [
          {
            "low": {
              "value": 3.1,
              "unit": "mmol/l",
              "system": "http://unitsofmeasure.org",
              "code": "mmol/L"
            },
            "high": {
              "value": 6.2,
              "unit": "mmol/l",
              "system": "http://unitsofmeasure.org",
              "code": "mmol/L"
            }
          }
        ]
      }
    }
  ]
}
```

Essentially the bundle resource has:

 - **resourceType: Bundle**: specify that this is a Bundle instance
 - **type: collection**: specify that this Bundle is a collection of resources. Alternatives include `document` or `transaction`.
 - **entry: ...**: an array of Bundle entries. Each entry is a [BackboneElement](http://hl7.org/fhir/backboneelement.html) which the FHIR counterpart to a structured map or named dictionary.
 - **entry[i].resource: ...**: the actual resource contained within the entry.

In some cases you may receive a bundle with one or zero entries if the context calls for it. For example a [FHIR Query](#TODO) is expected to return a varied number of resources, so the server
executing the query will return a bundle regardless of the count.

## 5. Capability statement resource

A `CapabilityStatement` is a resource that contains metadata about a FHIR server, including what other resources the server hosts and how to access them. Here we skip the [CapabilityStatment structure table](https://hl7.org/fhir/capabilitystatement) and look directly at an example:

```json
{
  "resourceType" : "CapabilityStatement",
  "version" : "4.3.0",
  "name" : "Example FHIR Capability Statement",
  "status" : "draft",
  "experimental" : true,
  "date" : "2022-05-28T12:47:40+10:00",
  "kind" : "capability",
  "fhirVersion" : "4.3.0",
  "format" : [
    "xml",
    "json"
  ],
  "implementationGuide": [
    "https://fhir-igs.example.com/example-implementation-guide"
  ],
  "rest" : [
    {
      "mode" : "server",
      "documentation" : "An example Capability Statement",
      "security" : {
        "cors" : true,
        "service" : [{
          "coding" : [{
            "system" : "http://terminology.hl7.org/CodeSystem/restful-security-service",
            "code" : "SMART-on-FHIR",
            "display" : "SMART-on-FHIR"
          }],
          "text" : "See http://docs.smarthealthit.org/"
        }],
        "description" : "This is the Capability Statement to declare that the server supports SMART-on-FHIR. See the SMART-on-FHIR docs for the extension that would go with such a server"
      },
      "resource" : [
        {
          "type" : "Patient",
          "interaction" : [
            { "code" : "read" },
            {
              "code" : "search-type",
              "documentation" : "When a client searches patients with no search criteria, they get a list of all patients they have access too. Servers may elect to offer additional search parameters, but this is not required"
            }
          ]
        },
        {
          "type" : "DocumentReference",
          "interaction" : [
            { "code" : "read" },
            { "code" : "search-type" }
          ],
          "searchParam" : [{
            "name" : "_id",
            "type" : "token",
            "documentation" : "_id parameter always supported. For the connectathon, servers may elect which search parameters are supported"
          }]
        },
        {
          "type" : "Condition",
          "interaction" : [
            { "code" : "read" },
            { "code" : "search-type" }
          ],
          "searchParam" : [{
            "name" : "_id",
            "type" : "token",
            "documentation" : "Standard _id parameter"
          }]
        },
        {
          "type" : "DiagnosticReport",
          "interaction" : [
            { "code" : "read" },
            { "code" : "search-type" }
          ],
          "searchParam" : [
            {
              "name" : "_id",
              "type" : "token",
              "documentation" : "Standard _id parameter"
            },
            {
              "name" : "service",
              "type" : "token",
            "documentation" : "which diagnostic discipline/department created the report"
            }
          ]
        }
      ]
    }
  ]
}
```

Some things automatically discoverable from the `CapabilityStatement` are:

 - **`CapabilityStatement.fhirVersion`:** the FHIR version to which the API conforms to. In this case the server is running FHIR 4.3.0 (also known as FHIR R4B) **at that base url**. It is possible for a FHIR server to service multiple FHIR versions, but then each FHIR API will be serviced at a different base url, for example FHIR R4 at <https://fhir.example.com/R4/> and FHIR R4B at <https://fhir.example.com/R4B/>.
 - **`CapabilityStatement.format`:** the [encoding formats](https://hl7.org/fhir/formats.html#wire) supported by the FHIR server. [FHIR queries](/modules/10-intro--accessing-fhir-data/) must specify one of these formats via the [HTTP `Accept` Header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept).
 - **`CapabilityStatement.implementationGuide`:** the [implementation guides (IG)](/modules/30-fhir-data-modeling--real-world-ig/) that the FHIR server conforms to. However, it is technically possible for a server to be partially or even fully compliant to an IG without listing it in the metadata.
 - **`CapabilityStatement.rest[i].security.service`:** the [RESTful security services](http://hl7.org/fhir/valueset-restful-security-service.html#expansion) required to access data on this server as a `CodeableConcept`. This example uses [SMART-on-FHIR](/modules/20-intro-smart-on-fhir--overview/), but other possiblities include [OAuth](https://oauth.net/) or [UDAP](https://www.udap.org/).
 - **`CapabilityStatement.rest[i].resource.type`:** all FHIR resources supported by the server. Note this does not include foundational resources such as `CapabilityStatement` or `Bundle`, but all resources [level 3 and higher](https://hl7.org/fhir).
 - **`CapabilityStatement.rest[i].resource.interaction`:** the [RESTful interactions](http://hl7.org/fhir/http.html) available for that resource. All possible interactions are divided into 3 categories: instance level, type level, and system level. Only instance and type level interactions are listed here, and they apply to a specific FHIR resource instance or the entire FHIR resource class respectively. The [`search`](http://hl7.org/fhir/http.html#search) interaction applies to type level, and the `CapabilityStatement.rest[i].resource.searchParam` field further specifies what search parameters are possible.

In this way the `CapabilityStatement` creates a powerful way to encapsulate the metadata on how to retrieve and access more applicable FHIR data. All FHIR servers **must** have a capability statement, and it must be available at the `/metadata` route. This allows any client or user to automatically configure themselves for information exchange. A trained person can also gleam at a `CapabilityStatement` to understand the capabilities of a FHIR server or FHIR-conformant digital healthcare service. This auto-configuration or auto-discovery power is key advantage FHIR brings to healthcare.

Strictly speaking there are also other uses of `CapabilityStatement` such as being FHIR client metadata or a requirements statement. However the representation of metadata at a well-known endpoint for a FHIR server is its most common use case, and usually the go-to when beginning a FHIR-involved project or interaction. 

## 6. Other Major Resources

By now you probably understand how to read FHIR resources - look at the structure table and parse the provided encoding appropriately. Here a few more common and key FHIR resources:

| Resource                                                        | Description                                                                                                                     |
|:---------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------:|
| [Condition](https://hl7.org/fhir/condition)                     | |
| [Procedure](https://hl7.org/fhir/procedure)                     | |
| [Practitioner](https://hl7.org/fhir/practitioner)               | |
| [Organization](https://hl7.org/fhir/organization)               | |
| [Composition](https://hl7.org/fhir/composition)                 | |
| [Extension](https://hl7.org/fhir/extension)                     | |
| [StructureDefinition](https://hl7.org/fhir/structuredefinition) | |
| [OperationDefinition](https://hl7.org/fhir/operationdefinition) | |

---

## Outline

<div class="alert alert-danger">This section will be deleted - here for reference</div>

**Learning Objectives**

1. Learn of key healthcare resources such as Patient, Observation, and Bundle
2. Understand how FHIR defines resources with great granularity and flexibility
3. Understand how FHIR encapsulates metadata as resources

**Module Sections**

 - Overview of Core Elements
   + hl7.org/fhir screenshot
 - Patient
   + Table
   + Complex Types, HumanName example
   + Choice types, deceased[X] example
   + Codeable Concepts (brief)
   + Inherited Attributes
   + Example
 - Observation
 - Reference
 - Bundle
 - CapabilityStatement
 - More Major Resources
   + Condition
   + Procedure
   + Practitioner
   + Organization
   + Composition
   + Extension
   + StructureDefinition
   + OperationDefinition
 - Profiling of Elements (maybe brief - linked to other section - or moved under patient)

**Sources**

- <https://hl7.org/fhir/>
- <https://hl7.org/fhir/patient.html>
- <https://hl7.org/fhir/observation.html>
- <https://www.hl7.org/fhir/bundle.html>
- <https://www.hl7.org/fhir/references.html>
- <https://hl7.org/fhir/extensibility.html>
- <https://hl7.org/fhir/capabilitystatement.html>
- <https://hl7.org/fhir/structuredefinition.html>
- <https://build.fhir.org/operationdefinition.html>
- <https://hl7.org/fhir/profiling.html>
- <https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html>

---

