<header id="title-block-header">
$if(area)$
<div>$area.name$ > $topic.name$ ></div>
$endif$
<h1 class="title">$title$</h1>
$if(subtitle)$
<p class="subtitle">$subtitle$</p>

$endif$

$if(date)$
<p class="date">$date$</p>
$endif$
$if(abstract)$
<div class="abstract">
<div class="abstract-title">$abstract-title$</div>
$abstract$
</div>
$endif$
</header>

<!-- Begin learning objectives block -->
<div class="callout-tip callout callout-style-default callout-captioned" id="learning-objectives">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p class="prompt">After reading this module, you will be able to answer the following questions:</p>
<ol type="1">
$for(learning_objectives)$
<li>
    $learning_objectives.question$
    <div class="answer">$learning_objectives.answer$</div>
</li>
$endfor$

</ol>
<div class="target-roles-container">
<hr>
Target roles:
<ul class="target-roles">
$for(roles)$
    <li>$roles$ </li>
$endfor$
</ul>
</div>
</div>
</div>
<!-- End learning objectives block -->

<!-- Hack to add key points block at end of page-->
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Create a clone of element with id ddl_1:
    let clone = document.querySelector('#learning-objectives').cloneNode( true );

    // Change the id attribute of the newly created element:
    clone.id = 'key-points';

    // Append the newly created element on element p
    //
    // Figure out if `#quarto-appendix` exists
    if(document.getElementById("quarto-appendix")) {
        document.getElementById('quarto-document-content').insertBefore(clone, document.getElementById("quarto-appendix"));
    } else {
        document.querySelector('#quarto-document-content').appendChild( clone );
    }
    document.querySelector('#key-points .callout-caption-container').textContent = 'Key points';
    document.querySelector('#key-points .prompt').textContent = 'The learning objective questions are below, along with their answers:'
    document.querySelector('#key-points .target-roles-container').remove();

});
</script>
<!-- End hack to add key points block at end of page-->
